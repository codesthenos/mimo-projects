<!DOCTYPE html>
<html>
  <head>
    <title>Trivia Game</title>
    <style>
      * {
        padding: 0px;
        margin: 0px;
      }
      body {
        font-family: Arial, Helvetica, sans-serif;
        background: linear-gradient(45deg, teal, white);
        height: calc(100vh - 16px);
        padding: 8px;
      }
      nav {
        display: flex;
        justify-content: space-between;
        a,
        button {
          cursor: pointer;
          border: 0px;
          display: inline-block;
          text-decoration: none;
          color: black;
          font-weight: bold;
          background-color: aliceblue;
          padding: 8px 16px;
          border-radius: 12px;
          transition: all 0.2s ease-in;
          &:hover {
            box-shadow: 2px 2px 4px 0 #404040;
          }
        }
      }
      .wrapper {
        max-width: 900px;
        margin-top: 16px;
        margin-inline: auto;
        display: flex;
        justify-content: center;
        gap: 8px;
      }
      aside {
        min-width: 129px;
        max-width: 200px;
        background-color: white;
        border-radius: 10px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        ul {
          display: flex;
          flex-direction: column;
          align-items: center;
          > div {
            display: flex;
            align-items: center;
            > span {
              font-size: 12px;
              font-weight: bold;
              margin-right: 10px;
            }
          }
        }
        button {
          display: block;
          padding: 5px 10px;
          background-color: slategray;
          color: white;
          border: none;
          border-radius: 5px;
          cursor: pointer;
          margin: 10px;
          transition: background-color 0.3s, transform 0.15s;
          &:hover {
            background-color: teal;
            transform: scale(1.05);
          }
        }
      }
      main {
        background-color: white;
        border-radius: 10px;
        flex-grow: 1;
        max-width: 600px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        padding: 32px 12px;
        text-align: center;
        h1,
        h2 {
          margin-bottom: 16px;
        }
        button {
          padding: 10px 20px;
          background-color: slategray;
          color: white;
          border: none;
          border-radius: 5px;
          cursor: pointer;
          margin: 10px;
          transition: background-color 0.3s, transform 0.15s;
          &:hover {
            background-color: teal;
            transform: scale(1.05);
          }
        }
        .result {
          margin-block: 20px;
          font-weight: bold;
          font-size: 1.3rem;
          color: teal;
        }
      }
    </style>
  </head>
  <body>
    <nav>
      <a href="index.html">Home</a>
      <button></button>
    </nav>
    <div class="wrapper">
      <aside>
        <ul>
          <div id="div-stage-1">
            <button id="stage-1">Stage 1</button>
            <span>0/10</span>
          </div>
          <div id="div-stage-2">
            <button id="stage-2">Stage 2</button>
            <span>0/10</span>
          </div>
          <div id="div-stage-3">
            <button id="stage-3">Stage 3</button>
            <span>0/10</span>
          </div>
          <div id="div-stage-4">
            <button id="stage-4">Stage 4</button>
            <span>0/10</span>
          </div>
          <div id="div-stage-5">
            <button id="stage-5">Stage 5</button>
            <span>0/10</span>
          </div>
          <div id="div-stage-6">
            <button id="stage-6">Stage 6</button>
            <span>0/10</span>
          </div>
        </ul>
        <button id="stage-random">Random Stage</button>
      </aside>
      <main>
        <h1>Trivia Game</h1>
        <h2>Random question</h2>
        <button type="button" id="button-1">Option 1</button>
        <button type="button" id="button-2">Option 2</button>
        <button type="button" id="button-3">Option 3</button>
        <button type="button" id="button-4">Option 4</button>
      </main>
    </div>
    <script type="text/javascript">
      const ALL_QUESTIONS_EN = [
        // Sublista 1
        [
          {
            text: "What's the capital of France?",
            options: ["Paris", "London", "Berlin", "Madrid"],
            correct: "Paris",
          },
          {
            text: "Who painted the Mona Lisa?",
            options: ["Van Gogh", "Picasso", "Da Vinci", "Rembrandt"],
            correct: "Da Vinci",
          },
          {
            text: "What is the largest planet in our solar system?",
            options: ["Earth", "Jupiter", "Saturn", "Mars"],
            correct: "Jupiter",
          },
          {
            text: "Which element has the chemical symbol 'O'?",
            options: ["Gold", "Oxygen", "Silver", "Iron"],
            correct: "Oxygen",
          },
          {
            text: "Who wrote 'Romeo and Juliet'?",
            options: ["Shakespeare", "Hemingway", "Tolkien", "Dickens"],
            correct: "Shakespeare",
          },
          {
            text: "What is the smallest prime number?",
            options: ["0", "1", "2", "3"],
            correct: "2",
          },
          {
            text: "Which country is known as the Land of the Rising Sun?",
            options: ["China", "Japan", "Thailand", "India"],
            correct: "Japan",
          },
          {
            text: "What is the chemical formula for water?",
            options: ["CO2", "H2O", "O2", "NaCl"],
            correct: "H2O",
          },
          {
            text: "Which planet is known as the Red Planet?",
            options: ["Venus", "Mars", "Mercury", "Jupiter"],
            correct: "Mars",
          },
          {
            text: "Who is known as the Father of Computers?",
            options: [
              "Alan Turing",
              "Charles Babbage",
              "Bill Gates",
              "Steve Jobs",
            ],
            correct: "Charles Babbage",
          },
        ],

        // Sublista 2
        [
          {
            text: "What is the fastest land animal?",
            options: ["Cheetah", "Lion", "Horse", "Tiger"],
            correct: "Cheetah",
          },
          {
            text: "Which ocean is the largest?",
            options: ["Atlantic", "Pacific", "Indian", "Arctic"],
            correct: "Pacific",
          },
          {
            text: "In which year did the Titanic sink?",
            options: ["1912", "1905", "1920", "1898"],
            correct: "1912",
          },
          {
            text: "What is the hardest natural substance on Earth?",
            options: ["Diamond", "Gold", "Iron", "Quartz"],
            correct: "Diamond",
          },
          {
            text: "Which planet has the most moons?",
            options: ["Earth", "Saturn", "Jupiter", "Mars"],
            correct: "Saturn",
          },
          {
            text: "Who discovered penicillin?",
            options: [
              "Marie Curie",
              "Alexander Fleming",
              "Louis Pasteur",
              "Gregor Mendel",
            ],
            correct: "Alexander Fleming",
          },
          {
            text: "What is the largest mammal?",
            options: ["Elephant", "Blue Whale", "Giraffe", "Hippopotamus"],
            correct: "Blue Whale",
          },
          {
            text: "Which gas do plants absorb from the atmosphere?",
            options: ["Oxygen", "Carbon Dioxide", "Nitrogen", "Helium"],
            correct: "Carbon Dioxide",
          },
          {
            text: "Who wrote 'Harry Potter'?",
            options: [
              "J.K. Rowling",
              "J.R.R. Tolkien",
              "Suzanne Collins",
              "C.S. Lewis",
            ],
            correct: "J.K. Rowling",
          },
          {
            text: "What is the capital of Italy?",
            options: ["Venice", "Rome", "Milan", "Naples"],
            correct: "Rome",
          },
        ],

        // Sublista 3
        [
          {
            text: "Which planet is closest to the Sun?",
            options: ["Mercury", "Venus", "Earth", "Mars"],
            correct: "Mercury",
          },
          {
            text: "What is the currency of Japan?",
            options: ["Dollar", "Yen", "Euro", "Won"],
            correct: "Yen",
          },
          {
            text: "Who painted 'Starry Night'?",
            options: ["Van Gogh", "Da Vinci", "Picasso", "Monet"],
            correct: "Van Gogh",
          },
          {
            text: "Which language is primarily spoken in Brazil?",
            options: ["Spanish", "Portuguese", "English", "French"],
            correct: "Portuguese",
          },
          {
            text: "What is the boiling point of water in Celsius?",
            options: ["90°C", "100°C", "80°C", "120°C"],
            correct: "100°C",
          },
          {
            text: "What is the tallest mountain in the world?",
            options: ["K2", "Everest", "Kangchenjunga", "Lhotse"],
            correct: "Everest",
          },
          {
            text: "Who is known for the theory of relativity?",
            options: ["Newton", "Einstein", "Galileo", "Tesla"],
            correct: "Einstein",
          },
          {
            text: "Which element has the atomic number 1?",
            options: ["Hydrogen", "Helium", "Oxygen", "Carbon"],
            correct: "Hydrogen",
          },
          {
            text: "Which country hosted the 2016 Summer Olympics?",
            options: ["China", "Brazil", "UK", "Russia"],
            correct: "Brazil",
          },
          {
            text: "What is the capital of Canada?",
            options: ["Toronto", "Ottawa", "Vancouver", "Montreal"],
            correct: "Ottawa",
          },
        ],

        // Sublista 4
        [
          {
            text: "Which is the smallest continent?",
            options: ["Australia", "Europe", "Antarctica", "South America"],
            correct: "Australia",
          },
          {
            text: "Which planet is known for its rings?",
            options: ["Jupiter", "Saturn", "Uranus", "Neptune"],
            correct: "Saturn",
          },
          {
            text: "Who wrote 'The Odyssey'?",
            options: ["Homer", "Virgil", "Shakespeare", "Dante"],
            correct: "Homer",
          },
          {
            text: "What is the capital of Spain?",
            options: ["Barcelona", "Madrid", "Seville", "Valencia"],
            correct: "Madrid",
          },
          {
            text: "What is the largest desert in the world?",
            options: ["Sahara", "Gobi", "Kalahari", "Antarctic Desert"],
            correct: "Antarctic Desert",
          },
          {
            text: "Which organ pumps blood through the body?",
            options: ["Liver", "Heart", "Kidney", "Lungs"],
            correct: "Heart",
          },
          {
            text: "Who discovered gravity?",
            options: ["Newton", "Einstein", "Galileo", "Copernicus"],
            correct: "Newton",
          },
          {
            text: "What is the chemical symbol for gold?",
            options: ["Au", "Ag", "Fe", "Hg"],
            correct: "Au",
          },
          {
            text: "Which is the largest bird?",
            options: ["Eagle", "Ostrich", "Albatross", "Penguin"],
            correct: "Ostrich",
          },
          {
            text: "What is the main language in Egypt?",
            options: ["Arabic", "French", "English", "Berber"],
            correct: "Arabic",
          },
        ],

        // Sublista 5
        [
          {
            text: "What is the largest island in the world?",
            options: ["Greenland", "Madagascar", "Borneo", "New Guinea"],
            correct: "Greenland",
          },
          {
            text: "Which planet has a day longer than its year?",
            options: ["Venus", "Mercury", "Earth", "Mars"],
            correct: "Venus",
          },
          {
            text: "Who invented the telephone?",
            options: ["Bell", "Edison", "Tesla", "Fleming"],
            correct: "Bell",
          },
          {
            text: "Which is the longest river in the world?",
            options: ["Amazon", "Nile", "Yangtze", "Mississippi"],
            correct: "Nile",
          },
          {
            text: "What is the primary gas in Earth's atmosphere?",
            options: ["Oxygen", "Nitrogen", "Carbon Dioxide", "Hydrogen"],
            correct: "Nitrogen",
          },
          {
            text: "Which country is famous for maple syrup?",
            options: ["Canada", "USA", "Sweden", "Norway"],
            correct: "Canada",
          },
          {
            text: "What is the capital of Australia?",
            options: ["Sydney", "Canberra", "Melbourne", "Perth"],
            correct: "Canberra",
          },
          {
            text: "Who was the first person to walk on the Moon?",
            options: [
              "Neil Armstrong",
              "Buzz Aldrin",
              "Yuri Gagarin",
              "Michael Collins",
            ],
            correct: "Neil Armstrong",
          },
          {
            text: "Which planet is nicknamed the Blue Planet?",
            options: ["Earth", "Neptune", "Uranus", "Saturn"],
            correct: "Earth",
          },
          {
            text: "Which organ is responsible for producing insulin?",
            options: ["Pancreas", "Liver", "Kidney", "Spleen"],
            correct: "Pancreas",
          },
        ],

        // Sublista 6
        [
          {
            text: "Which is the largest ocean on Earth?",
            options: ["Atlantic", "Pacific", "Indian", "Southern"],
            correct: "Pacific",
          },
          {
            text: "Who painted the ceiling of the Sistine Chapel?",
            options: ["Michelangelo", "Da Vinci", "Raphael", "Caravaggio"],
            correct: "Michelangelo",
          },
          {
            text: "Which country is known as the Land of the Midnight Sun?",
            options: ["Norway", "Sweden", "Finland", "Iceland"],
            correct: "Norway",
          },
          {
            text: "What is the most abundant element in the universe?",
            options: ["Hydrogen", "Oxygen", "Carbon", "Helium"],
            correct: "Hydrogen",
          },
          {
            text: "Which instrument has keys, pedals, and strings?",
            options: ["Piano", "Guitar", "Violin", "Organ"],
            correct: "Piano",
          },
          {
            text: "What is the capital of Germany?",
            options: ["Munich", "Berlin", "Frankfurt", "Hamburg"],
            correct: "Berlin",
          },
          {
            text: "Which planet is known as the Morning Star?",
            options: ["Venus", "Mars", "Mercury", "Jupiter"],
            correct: "Venus",
          },
          {
            text: "Who wrote '1984'?",
            options: ["Orwell", "Huxley", "Bradbury", "Atwood"],
            correct: "Orwell",
          },
          {
            text: "Which animal is known as the King of the Jungle?",
            options: ["Lion", "Tiger", "Elephant", "Gorilla"],
            correct: "Lion",
          },
          {
            text: "What is the largest volcano in the world?",
            options: ["Mauna Loa", "Mount Etna", "Mount Fuji", "Krakatoa"],
            correct: "Mauna Loa",
          },
        ],
      ];
      const ALL_QUESTIONS_ES = [
        // Sublista 1
        [
          {
            text: "¿Cuál es la capital de Francia?",
            options: ["París", "Londres", "Berlín", "Madrid"],
            correct: "París",
          },
          {
            text: "¿Quién pintó la Mona Lisa?",
            options: ["Van Gogh", "Picasso", "Da Vinci", "Rembrandt"],
            correct: "Da Vinci",
          },
          {
            text: "¿Cuál es el planeta más grande de nuestro sistema solar?",
            options: ["Tierra", "Júpiter", "Saturno", "Marte"],
            correct: "Júpiter",
          },
          {
            text: "¿Qué elemento tiene el símbolo químico 'O'?",
            options: ["Oro", "Oxígeno", "Plata", "Hierro"],
            correct: "Oxígeno",
          },
          {
            text: "¿Quién escribió 'Romeo y Julieta'?",
            options: ["Shakespeare", "Hemingway", "Tolkien", "Dickens"],
            correct: "Shakespeare",
          },
          {
            text: "¿Cuál es el número primo más pequeño?",
            options: ["0", "1", "2", "3"],
            correct: "2",
          },
          {
            text: "¿Qué país es conocido como la Tierra del Sol Naciente?",
            options: ["China", "Japón", "Tailandia", "India"],
            correct: "Japón",
          },
          {
            text: "¿Cuál es la fórmula química del agua?",
            options: ["CO2", "H2O", "O2", "NaCl"],
            correct: "H2O",
          },
          {
            text: "¿Qué planeta es conocido como el Planeta Rojo?",
            options: ["Venus", "Marte", "Mercurio", "Júpiter"],
            correct: "Marte",
          },
          {
            text: "¿Quién es conocido como el Padre de la Informática?",
            options: [
              "Alan Turing",
              "Charles Babbage",
              "Bill Gates",
              "Steve Jobs",
            ],
            correct: "Charles Babbage",
          },
        ],

        // Sublista 2
        [
          {
            text: "¿Cuál es el animal terrestre más rápido?",
            options: ["Guepardo", "León", "Caballo", "Tigre"],
            correct: "Guepardo",
          },
          {
            text: "¿Cuál es el océano más grande?",
            options: ["Atlántico", "Pacífico", "Índico", "Ártico"],
            correct: "Pacífico",
          },
          {
            text: "¿En qué año se hundió el Titanic?",
            options: ["1912", "1905", "1920", "1898"],
            correct: "1912",
          },
          {
            text: "¿Cuál es la sustancia natural más dura de la Tierra?",
            options: ["Diamante", "Oro", "Hierro", "Cuarzo"],
            correct: "Diamante",
          },
          {
            text: "¿Qué planeta tiene más lunas?",
            options: ["Tierra", "Saturno", "Júpiter", "Marte"],
            correct: "Saturno",
          },
          {
            text: "¿Quién descubrió la penicilina?",
            options: [
              "Marie Curie",
              "Alexander Fleming",
              "Louis Pasteur",
              "Gregor Mendel",
            ],
            correct: "Alexander Fleming",
          },
          {
            text: "¿Cuál es el mamífero más grande?",
            options: ["Elefante", "Ballena Azul", "Jirafa", "Hipopótamo"],
            correct: "Ballena Azul",
          },
          {
            text: "¿Qué gas absorben las plantas de la atmósfera?",
            options: ["Oxígeno", "Dióxido de carbono", "Nitrógeno", "Helio"],
            correct: "Dióxido de carbono",
          },
          {
            text: "¿Quién escribió 'Harry Potter'?",
            options: [
              "J.K. Rowling",
              "J.R.R. Tolkien",
              "Suzanne Collins",
              "C.S. Lewis",
            ],
            correct: "J.K. Rowling",
          },
          {
            text: "¿Cuál es la capital de Italia?",
            options: ["Venecia", "Roma", "Milán", "Nápoles"],
            correct: "Roma",
          },
        ],

        // Sublista 3
        [
          {
            text: "¿Qué planeta está más cerca del Sol?",
            options: ["Mercurio", "Venus", "Tierra", "Marte"],
            correct: "Mercurio",
          },
          {
            text: "¿Cuál es la moneda de Japón?",
            options: ["Dólar", "Yen", "Euro", "Won"],
            correct: "Yen",
          },
          {
            text: "¿Quién pintó 'La noche estrellada'?",
            options: ["Van Gogh", "Da Vinci", "Picasso", "Monet"],
            correct: "Van Gogh",
          },
          {
            text: "¿Qué idioma se habla principalmente en Brasil?",
            options: ["Español", "Portugués", "Inglés", "Francés"],
            correct: "Portugués",
          },
          {
            text: "¿Cuál es el punto de ebullición del agua en grados Celsius?",
            options: ["90°C", "100°C", "80°C", "120°C"],
            correct: "100°C",
          },
          {
            text: "¿Cuál es la montaña más alta del mundo?",
            options: ["K2", "Everest", "Kangchenjunga", "Lhotse"],
            correct: "Everest",
          },
          {
            text: "¿Quién es conocido por la teoría de la relatividad?",
            options: ["Newton", "Einstein", "Galileo", "Tesla"],
            correct: "Einstein",
          },
          {
            text: "¿Qué elemento tiene el número atómico 1?",
            options: ["Hidrógeno", "Helio", "Oxígeno", "Carbono"],
            correct: "Hidrógeno",
          },
          {
            text: "¿Qué país fue sede de los Juegos Olímpicos de Verano de 2016?",
            options: ["China", "Brasil", "Reino Unido", "Rusia"],
            correct: "Brasil",
          },
          {
            text: "¿Cuál es la capital de Canadá?",
            options: ["Toronto", "Ottawa", "Vancouver", "Montreal"],
            correct: "Ottawa",
          },
        ],

        // Sublista 4
        [
          {
            text: "¿Cuál es el continente más pequeño?",
            options: ["Australia", "Europa", "Antártida", "Sudamérica"],
            correct: "Australia",
          },
          {
            text: "¿Qué planeta es conocido por sus anillos?",
            options: ["Júpiter", "Saturno", "Urano", "Neptuno"],
            correct: "Saturno",
          },
          {
            text: "¿Quién escribió 'La Odisea'?",
            options: ["Homero", "Virgilio", "Shakespeare", "Dante"],
            correct: "Homero",
          },
          {
            text: "¿Cuál es la capital de España?",
            options: ["Barcelona", "Madrid", "Sevilla", "Valencia"],
            correct: "Madrid",
          },
          {
            text: "¿Cuál es el desierto más grande del mundo?",
            options: ["Sahara", "Gobi", "Kalahari", "Antártico"],
            correct: "Antártico",
          },
          {
            text: "¿Qué órgano bombea la sangre por el cuerpo?",
            options: ["Hígado", "Corazón", "Riñón", "Pulmones"],
            correct: "Corazón",
          },
          {
            text: "¿Quién descubrió la gravedad?",
            options: ["Newton", "Einstein", "Galileo", "Copérnico"],
            correct: "Newton",
          },
          {
            text: "¿Cuál es el símbolo químico del oro?",
            options: ["Au", "Ag", "Fe", "Hg"],
            correct: "Au",
          },
          {
            text: "¿Cuál es el ave más grande?",
            options: ["Águila", "Avestruz", "Albatros", "Pingüino"],
            correct: "Avestruz",
          },
          {
            text: "¿Cuál es el idioma principal en Egipto?",
            options: ["Árabe", "Francés", "Inglés", "Bereber"],
            correct: "Árabe",
          },
        ],

        // Sublista 5
        [
          {
            text: "¿Cuál es la isla más grande del mundo?",
            options: ["Groenlandia", "Madagascar", "Borneo", "Nueva Guinea"],
            correct: "Groenlandia",
          },
          {
            text: "¿Qué planeta tiene un día más largo que su año?",
            options: ["Venus", "Mercurio", "Tierra", "Marte"],
            correct: "Venus",
          },
          {
            text: "¿Quién inventó el teléfono?",
            options: ["Bell", "Edison", "Tesla", "Fleming"],
            correct: "Bell",
          },
          {
            text: "¿Cuál es el río más largo del mundo?",
            options: ["Amazonas", "Nilo", "Yangtsé", "Misisipi"],
            correct: "Nilo",
          },
          {
            text: "¿Cuál es el gas principal de la atmósfera terrestre?",
            options: [
              "Oxígeno",
              "Nitrógeno",
              "Dióxido de carbono",
              "Hidrógeno",
            ],
            correct: "Nitrógeno",
          },
          {
            text: "¿Qué país es famoso por el jarabe de arce?",
            options: ["Canadá", "EE.UU.", "Suecia", "Noruega"],
            correct: "Canadá",
          },
          {
            text: "¿Cuál es la capital de Australia?",
            options: ["Sídney", "Canberra", "Melbourne", "Perth"],
            correct: "Canberra",
          },
          {
            text: "¿Quién fue la primera persona en caminar sobre la Luna?",
            options: [
              "Neil Armstrong",
              "Buzz Aldrin",
              "Yuri Gagarin",
              "Michael Collins",
            ],
            correct: "Neil Armstrong",
          },
          {
            text: "¿Qué planeta es apodado el Planeta Azul?",
            options: ["Tierra", "Neptuno", "Urano", "Saturno"],
            correct: "Tierra",
          },
          {
            text: "¿Qué órgano produce insulina?",
            options: ["Páncreas", "Hígado", "Riñón", "Bazo"],
            correct: "Páncreas",
          },
        ],

        // Sublista 6
        [
          {
            text: "¿Cuál es el océano más grande de la Tierra?",
            options: ["Atlántico", "Pacífico", "Índico", "Antártico"],
            correct: "Pacífico",
          },
          {
            text: "¿Quién pintó el techo de la Capilla Sixtina?",
            options: ["Miguel Ángel", "Da Vinci", "Rafael", "Caravaggio"],
            correct: "Miguel Ángel",
          },
          {
            text: "¿Qué país es conocido como el País del Sol de Medianoche?",
            options: ["Noruega", "Suecia", "Finlandia", "Islandia"],
            correct: "Noruega",
          },
          {
            text: "¿Cuál es el elemento más abundante del universo?",
            options: ["Hidrógeno", "Oxígeno", "Carbono", "Helio"],
            correct: "Hidrógeno",
          },
          {
            text: "¿Qué instrumento tiene teclas, pedales y cuerdas?",
            options: ["Piano", "Guitarra", "Violín", "Órgano"],
            correct: "Piano",
          },
          {
            text: "¿Cuál es la capital de Alemania?",
            options: ["Múnich", "Berlín", "Fráncfort", "Hamburgo"],
            correct: "Berlín",
          },
          {
            text: "¿Qué planeta es conocido como el Lucero del Alba?",
            options: ["Venus", "Marte", "Mercurio", "Júpiter"],
            correct: "Venus",
          },
          {
            text: "¿Quién escribió '1984'?",
            options: ["Orwell", "Huxley", "Bradbury", "Atwood"],
            correct: "Orwell",
          },
          {
            text: "¿Qué animal es conocido como el Rey de la Selva?",
            options: ["León", "Tigre", "Elefante", "Gorila"],
            correct: "León",
          },
          {
            text: "¿Cuál es el volcán más grande del mundo?",
            options: ["Mauna Loa", "Etna", "Monte Fuji", "Krakatoa"],
            correct: "Mauna Loa",
          },
        ],
      ];
      const ALL_QUESTIONS = {
        ES: ALL_QUESTIONS_ES,
        EN: ALL_QUESTIONS_EN,
      };
      const initState = (isReset = false) => {
        if (!localStorage.getItem("BEST_SCORES")) {
          localStorage.setItem(
            "BEST_SCORES",
            JSON.stringify({
              stage_1: 0,
              stage_2: 0,
              stage_3: 0,
              stage_4: 0,
              stage_5: 0,
              stage_6: 0,
            })
          );
        }
        if (!localStorage.getItem("LANG")) {
          localStorage.setItem("LANG", "EN");
        }
        if (!localStorage.getItem("RANDOM_INDEX") || isReset) {
          localStorage.setItem("RANDOM_INDEX", Math.floor(Math.random() * 6));
          localStorage.setItem("QUESTION_NUMBER", 0);
          localStorage.setItem("CORRECT_ANSWERS", 0);
        }
      };
      const getState = () => ({
        RANDOM_INDEX: Number(localStorage.getItem("RANDOM_INDEX")),
        QUESTION_NUMBER: Number(localStorage.getItem("QUESTION_NUMBER")),
        CORRECT_ANSWERS: Number(localStorage.getItem("CORRECT_ANSWERS")),
        BEST_SCORES: JSON.parse(localStorage.getItem("BEST_SCORES")),
        LANG: localStorage.getItem("LANG"),
      });
      const setState = ({
        RANDOM_INDEX,
        QUESTION_NUMBER,
        CORRECT_ANSWERS,
        BEST_SCORES,
        LANG,
      }) => {
        if (RANDOM_INDEX !== undefined) {
          localStorage.setItem("RANDOM_INDEX", RANDOM_INDEX);
        }
        if (QUESTION_NUMBER !== undefined) {
          localStorage.setItem("QUESTION_NUMBER", QUESTION_NUMBER);
        }
        if (CORRECT_ANSWERS !== undefined) {
          localStorage.setItem("CORRECT_ANSWERS", CORRECT_ANSWERS);
        }
        if (BEST_SCORES !== undefined) {
          localStorage.setItem("BEST_SCORES", BEST_SCORES);
        }
        if (LANG !== undefined) {
          localStorage.setItem("LANG", LANG);
        }
      };
      const resetState = () => {
        initState(true);
        document
          .querySelectorAll(".result, main > button")
          .forEach((el) => el.remove());
        const main = document.querySelector("main");
        const h2 = document.createElement("h2");
        main.appendChild(h2);
        for (let i = 0; i < 4; i++) {
          const btn = document.createElement("button");
          main.appendChild(btn);
        }
        fillQuestion();
      };

      const renderResult = (correctAnswers, questionsAmount, stage) => {
        const main = document.querySelector("main");
        main.querySelectorAll("button, h2").forEach((el) => el.remove());
        const result = document.createElement("p");
        result.classList.add("result");
        result.innerText = `You scored ${correctAnswers} out of ${questionsAmount}, at stage ${
          stage + 1
        }!`;
        const tryAgainButton = document.createElement("button");
        tryAgainButton.onclick = () => {
          setState({
            RANDOM_INDEX: stage,
            CORRECT_ANSWERS: 0,
            QUESTION_NUMBER: 0,
          });
          document
            .querySelectorAll(".result, main > button")
            .forEach((el) => el.remove());
          const main = document.querySelector("main");
          const h2 = document.createElement("h2");
          main.appendChild(h2);
          for (let i = 0; i < 4; i++) {
            const btn = document.createElement("button");
            main.appendChild(btn);
          }
          fillQuestion();
        };
        tryAgainButton.textContent = "Try again the same pool";
        main.appendChild(result);
        main.appendChild(tryAgainButton);
      };

      const buttonClick = (e) => {
        let { CORRECT_ANSWERS, QUESTION_NUMBER, RANDOM_INDEX, LANG } =
          getState();
        const QUESTIONS = ALL_QUESTIONS[LANG][RANDOM_INDEX];
        const answer = e.target.textContent;
        if (answer === QUESTIONS[QUESTION_NUMBER].correct) {
          setState({ CORRECT_ANSWERS: CORRECT_ANSWERS + 1 });
        }
        setState({ QUESTION_NUMBER: QUESTION_NUMBER + 1 });
        ({ CORRECT_ANSWERS, QUESTION_NUMBER, RANDOM_INDEX, BEST_SCORES } =
          getState());
        if (QUESTION_NUMBER < QUESTIONS.length) {
          fillQuestion();
        } else {
          const scores = { ...BEST_SCORES };
          const key = `stage_${RANDOM_INDEX + 1}`;
          if (+scores[key] < +CORRECT_ANSWERS) {
            scores[key] = CORRECT_ANSWERS;
          }
          setState({ BEST_SCORES: JSON.stringify(scores) });
          const aside = document.querySelector("aside");
          aside.querySelectorAll("div").forEach((div) => {
            const key = `stage_${div.id.split("-")[2]}`;
            if (scores[key]) {
              div.querySelector("span").textContent = `${scores[key]}/10`;
            }
          });
          renderResult(CORRECT_ANSWERS, QUESTIONS.length, RANDOM_INDEX);
        }
      };
      const fillQuestion = () => {
        const { QUESTION_NUMBER, RANDOM_INDEX, LANG } = getState();
        const QUESTIONS = ALL_QUESTIONS[LANG][RANDOM_INDEX];
        document.querySelector("main > h2").textContent =
          QUESTIONS[QUESTION_NUMBER].text;
        document.querySelectorAll("main > button").forEach((button, index) => {
          button.textContent = QUESTIONS[QUESTION_NUMBER].options[index];
          button.onclick = buttonClick;
        });
      };

      const fillAside = (scores) => {
        const aside = document.querySelector("aside");
        aside.querySelectorAll("button").forEach((button) => {
          button.onclick = () => {
            const stage = button.id.split("-")[1];
            if (Number(stage) > 0) {
              setState({
                RANDOM_INDEX: stage - 1,
                CORRECT_ANSWERS: 0,
                QUESTION_NUMBER: 0,
              });
              document
                .querySelectorAll(".result, main > button")
                .forEach((el) => el.remove());
              const main = document.querySelector("main");
              const h2 = document.createElement("h2");
              main.appendChild(h2);
              for (let i = 0; i < 4; i++) {
                const btn = document.createElement("button");
                main.appendChild(btn);
              }
              fillQuestion();
            } else {
              resetState();
            }
          };
        });
        aside.querySelectorAll("div").forEach((div) => {
          const key = `stage_${div.id.split("-")[2]}`;
          if (scores[key]) {
            div.querySelector("span").textContent = `${scores[key]}/10`;
          }
        });
      };

      const fillLanguageButton = (lang) => {
        const button = document.querySelector("nav > button");
        if (lang === "EN") {
          button.textContent = "Cambiar a español";
        } else {
          button.textContent = "Switch to english";
        }
        button.onclick = () => {
          if (localStorage.getItem("LANG") === "EN") {
            button.textContent = "Switch to english";
            localStorage.setItem("LANG", "ES");
            fillQuestion();
          } else {
            button.textContent = "Cambiar a español";
            localStorage.setItem("LANG", "EN");
            fillQuestion();
          }
        };
      };

      document.addEventListener("DOMContentLoaded", () => {
        initState();
        const {
          CORRECT_ANSWERS,
          QUESTION_NUMBER,
          RANDOM_INDEX,
          BEST_SCORES,
          LANG,
        } = getState();
        fillLanguageButton(LANG);
        const QUESTIONS = ALL_QUESTIONS[LANG][RANDOM_INDEX];
        fillAside(BEST_SCORES);
        if (QUESTION_NUMBER < QUESTIONS.length) {
          fillQuestion();
        } else {
          renderResult(CORRECT_ANSWERS, QUESTIONS.length, RANDOM_INDEX);
        }
      });
    </script>
  </body>
</html>
